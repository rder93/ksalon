<div ui-view="navigation"></div>

<div class="" style="height: 10px;"></div>
    
<h4 style="text-align: center;margin-top: 20%;">Gestión de usuarios</h4>

<div class="responsive-table table-status-sheet" style="padding-bottom: 50px;">
    <table class="bordered">
        <tbody>
            <tr ng-repeat="usuario in usuarios | filter : search | orderBy: 'name'">
                <td colspan="3">
                    <p style="font-size: 1.2em;margin:0;font-weight: 600;">{{usuario.name}} <br>
                        <p style="font-size: 1em;margin:0;font-weight: initial;font-style: italic;" ng-if="usuario.rol_id == 1">Salon grande</p>
                        <p style="font-size: 1em;margin:0;font-weight: initial;font-style: italic;" ng-if="usuario.rol_id == 2">Salon pequeño</p>
                        <p style="font-size: 1em;margin:0;font-weight: initial;font-style: italic;" ng-if="usuario.rol_id == 3">Profesional independiente</p>
                        <p style="font-size: 1em;margin:0;font-weight: initial;font-style: italic;" ng-if="usuario.rol_id == 4">Cliente</p>
                    </p>
                </td>
                <td>
                    <div class="right" style="margin-right: 15px;">
                        <a class='dropdown-button btn' data-beloworigin="true" href='javascript:void(0)' data-activates='usuario--{{usuario.id}}' id="usuario-{{usuario.id}}" style="background-color: #4db6ac;padding: 0 10px;"><i class="material-icons">more_vert</i></a>
                        <ul id='usuario--{{usuario.id}}' class='dropdown-content' for="usuario-{{usuario.id}}">
                            <li>
                                <a ui-sref="edit_usuario({id:usuario.id})">Editar</a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" ng-click="askRemove(usuario.id)">Eliminar</a>
                            </li>
                            <li>
                                <a ui-sref="admin_user_chats({id:usuario.id})">Mensajería</a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" ng-if="usuario.status == 1" ng-click="askBlock(usuario.id)">Bloquear</a>
                                <a href="javascript:void(0)" ng-if="usuario.status == 0" ng-click="askUnblock(usuario.id)">Desbloquear</a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>


<div class="row footer-listuser">
    <div class="input-field col s12 " style="margin-top: 10px;padding: 0px;">
        <div class="col s9">
            <input type="text" placeholder="Buscar usuario..." ng-model="search" style="padding: 2%;margin-bottom: 10px;">
        </div>
        <div class="col s2" style="text-align: center; margin-left: 4%;">
            <a ui-sref="add_usuario" class="btn-floating btn-large red">
                <i class="large material-icons">add</i>
            </a>
        </div>
    </div>
</div>


<div id="modal1" class="modal">
    <div class="modal-content">
        <h5>Eliminar usuario</h5>
        <span style="font-size: 12.5px;">Esta seguro que desea eliminar el usuario?</span>
    </div>
    <div class="modal-footer">
        <button class="modal-action modal-close waves-effect waves-red btn red">No</button>
        <button ng-click="remove(deleteUser.user_id)" class="modal-action modal-close waves-effect waves-green btn confirm green" style="margin-right: 5px;">Si</button>
    </div>
</div>

<div id="modal2" class="modal">
    <div class="modal-content">
        <h5>Bloquear usuario</h5>
        <span style="font-size: 12.5px;">Esta seguro que desea bloquear al usuario?</span>
    </div>
    <div class="modal-footer">
        <button class="modal-action modal-close waves-effect waves-red btn red">No</button>
        <button ng-click="block(blockUser.blockuser_id)" class="modal-action modal-close waves-effect waves-green btn confirm green" style="margin-right: 5px;">Si</button>
    </div>
</div>

<div id="modal3" class="modal">
    <div class="modal-content">
        <h5>Desbloquear usuario</h5>
        <span style="font-size: 12.5px;">Esta seguro que desea desbloquear al usuario?</span>
    </div>
    <div class="modal-footer">
        <button class="modal-action modal-close waves-effect waves-red btn red">No</button>
        <button ng-click="block(blockUser.blockuser_id)" class="modal-action modal-close waves-effect waves-green btn confirm green" style="margin-right: 5px;">Si</button>
    </div>
</div>
