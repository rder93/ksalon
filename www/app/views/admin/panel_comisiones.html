<div ui-view="navigation"></div>

<div class="" style="height: 10px;"></div>
    
<h4 style="text-align: center;margin-top: 20%;">Gestión de comisiones</h4>



<style type="text/css">
    .fa{
        font-size: 18px;
    }

    .list-user-thumb{
        display: inline-block;
        margin-bottom: 5px;
        vertical-align: bottom;
        width: 15%;
    }
    .list-user-thumb > div{
        /*display: flex;*/
    }
    .list-user-name{
        display: inline-block;
        text-align: center;
        vertical-align: bottom;
        width: 70%;
    }
    .list-user-name > div{
        padding: 5px 0px;
    }

    .list-user-comision{
        color: #f50057;
        display: inline-block;
        font-size: 18px;
        font-weight: bold;
        vertical-align: top;
        width: 10%;
    }

    .list-user-options{
        display: inline-block;
        width: 95%;
    }

    .list-user{
        border-top: 2px solid lightgray;
        padding-bottom: 70px;
    }
    .list-user > div{
        border: 1px solid lightgray;
    }

    .user-name-span{
        font-weight: bold;
    }
    .user-type-span{
        font-size: 1em;
        font-style: italic;
        font-weight: initial;
        margin: 0;
    }
</style>


<div class="row list-user">
    <div id="user-{{usuario.id}}" ng-repeat="usuario in usuarios | filter : search | orderBy: 'name'">
        <div>
            <div class="list-user-thumb">
                <div>
                    <img ng-if="usuario.avatar" src="{{fotos_uri+usuario.avatar}}" class="circle responsive-img">
                    <img ng-if="!usuario.avatar" src="./assets/core/images/no_avatar.jpg" class="circle responsive-img"></img>
                </div>
            </div>

            <div class="list-user-name" style="width: 68%!important;">
                <div>
                    <div>
                        <span class="user-name-span">{{usuario.name}}</span>
                    </div>
                    <div>
                        <span class="user-type-span" ng-if="usuario.rol_id == 1">Salon grande</span>
                        <span class="user-type-span" ng-if="usuario.rol_id == 2">Salon pequeño</span>
                        <span class="user-type-span" ng-if="usuario.rol_id == 3">Profesional independiente</span>
                        <span class="user-type-span" ng-if="usuario.rol_id == 4">Cliente</span>
                    </div>
                </div>
                <div >
                    <div class="list-user-options" ng-click="editComision(usuario);">
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Editar Comisión
                    </div>
                </div>
            </div>

            <div class="list-user-comision" style="width: 12%!important;">
                {{usuario.comision}} %
            </div>
        </div>
    </div>
</div>



<div class="row footer-listuser">
    <div class="input-field col s12 " style="margin-top: 10px;padding: 0px;">
        <div class="col s9">
            <input type="text" placeholder="Buscar usuario..." ng-model="search" style="padding: 2%;margin-bottom: 10px;">
        </div>
    </div>
</div>


<div id="modal-comision" class="modal">
    <div class="modal-content">
        <h5>Editar comisión</h5>
        
        <label>Comisión del usuario: </label>
        <div style="position: relative;">
            <form>
                <input id="user_comision_edit" type="number" max="100" min="1" name="" required value="" style="padding: .2em 3em .2em 1em;">
                <span class="icon1"><i class="fa fa-percent" aria-hidden="true" style="position: absolute; right: 6%; top: 18%;"></i></span>
            </form>
        </div>

    </div>
    <div class="modal-footer">
        <button ng-click="confirmEditComision();" type="submit" class="modal-action modal-close waves-effect waves-green btn confirm green" style="margin-right: 5px;">Editar</button>
        
        <button class="modal-action modal-close waves-effect waves-red btn red">Cancelar</button>
    </div>
</div>
